{% extends 'layout.twig' %}

{% block content %}
    <div class="supsystic-item">
        <div class="overtable-buttons">
            {% block toolbar %}
                <form action="{{ environment.generateUrl('projects', 'add') }}"
                      method="post">
                    <input id="projectTitle" class="regular-text" type="text"
                           name="title"
                           placeholder="{{ environment.translate('Project title') }}"/>
                    <!-- /#projectTitle.regular-text -->
                    <button type="submit" class="button">Save</button>
                    <!-- /.button -->
                </form>
            {% endblock %}
        </div>
        <!-- /.overtable-buttons -->

        {% block inner_content %}
            <div class="scrollable-content">
                <div class="scrollable-inner">
                    <div class="scroll">
                        <h2>
                            <span style="float: left;">
                                {{ environment.translate('Networks to show') }}
                            </span>
                            <button class="button" id="addNetwork" style="float: left; margin-left: 4px;">
                                <i class="fa fa-fw fa-plus"></i>
                                <!-- /.fa fa-fw fa-plus -->
                                {{ environment.translate('Add Networks') }}
                            </button>
                            <!-- /#addNetwork.button -->
                        </h2>
                        <div class="clear"></div>
                        <!-- /.clear -->
                        <div id="nonetworks" style="color: red; display: none;">Please, select social networks using "Add Networks" button</div>
                        <form id="networks" action="{{ environment.getConfig().get('ajax_url') }}" method="post">
                            <div class="networks">
                                <input name="action" value="social-sharing"
                                       type="hidden"/>
                                <input name="route[module]" value="networks"
                                       type="hidden"/>
                                <input name="route[action]" value="addToProject"
                                       type="hidden"/>
                                <input name="project_id"
                                       value="{{ project.id }}" type="hidden"/>

                                {% for network in project.networks %}
                                    {% if network.id is not null %}
                                        <div class="network"
                                             id="network{{ network.id }}">
                                            <a class="delete" href="#">
                                                <i class="fa fa-fw fa-times"></i>
                                                <!-- /.fa fa-fw fa-times -->
                                            </a>
                                            <!-- /.delete -->
                                            <span class="title">{{ network.name }}</span>
                                            <!-- /.title -->
                                            <input name="networks[]"
                                                   value="{{ network.id }}"
                                                   type="hidden"/>
                                        </div>
                                        <!-- /#network{{ network.id }}.network -->
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <!-- /.networks -->
                        </form>
                        <!-- /#networks -->

                    </div>
                    <!-- /.scroll -->

                    <form id="settings" action="{{ environment.getConfig().get('ajax_url') }}">

                        <input name="id" type="hidden" value="{{ project.id }}"/>
                        <input name="action" type="hidden" value="social-sharing"/>
                        <input name="route[module]" type="hidden" value="projects"/>
                        <input name="route[action]" type="hidden" value="save"/>
                        <input name="settings[popup_id]" value="{{ project.settings.popup_id | default(0) }}" type="hidden"/>

                        <div class="scroll">
                            <h2>Buttons Design</h2>

                            <table class="form-table form">
                                <tbody>
                                <tr class="supsystic-social-sharing">
                                    <th scope="row"><input type="radio"
                                                           name="settings[design]"
                                                           value="flat-1"
                                                           {% if project.settings.design | default('flat-1') == 'flat-1' %}checked="checked"{% endif %}
                                                           id="flat-1"/>
                                        <!-- /#flat-1 --><a
                                                class="pricon sharer-flat sharer-flat-1 twitter {% if project.settings.display_total_shares is not defined %}without-counter{% endif %}"
                                                href="javascript:void(0);"><i
                                                    class="fa fa-fw fa-twitter"></i>
                                            <!-- /.fa fa-fw fa-twitter -->
                                            <div class="counter-wrap"><span
                                                        class="counter">{% if project.settings.short_numbers == 'on' %}5.7k{% else %}5731{% endif %}</span>
                                                <!-- /.counter --></div>
                                            <!-- /.counter-wrap -->
                                        </a>
                                        <!-- /.sharer-flat sharer-flat-1 twitter -->
                                    </th>
                                    <th scope="row"><input type="radio"
                                                           name="settings[design]"
                                                           value="flat-2"
                                                           {% if project.settings.design | default('flat-1') == 'flat-2' %}checked="checked"{% endif %}
                                                           id="flat-2"/>
                                        <!-- /#flat-2 --><a
                                                class="pricon sharer-flat sharer-flat-2 twitter {% if project.settings.display_total_shares is not defined %}without-counter{% endif %}"
                                                href="javascript:void(0);"><i
                                                    class="pricon fa fa-fw fa-twitter"></i>
                                            <!-- /.fa fa-fw fa-twitter -->
                                            <div class="counter-wrap"><span
                                                        class="counter">{% if project.settings.short_numbers == 'on' %}5.7k{% else %}5731{% endif %}</span>
                                                <!-- /.counter --></div>
                                            <!-- /.counter-wrap -->
                                        </a>
                                        <!-- /.sharer-flat sharer-flat-2 twitter -->
                                    </th>
                                    <th scope="row"><input type="radio"
                                                           name="settings[design]"
                                                           value="flat-3"
                                                           {% if project.settings.design | default('flat-1') == 'flat-3' %}checked="checked"{% endif %}
                                                           id="flat-3"/>
                                        <!-- /#flat-3 --><a
                                                class="pricon sharer-flat sharer-flat-3 twitter {% if project.settings.display_total_shares is not defined %}without-counter{% endif %}"
                                                href="javascript:void(0);"><i
                                                    class="fa fa-fw fa-twitter"></i>
                                            <!-- /.fa fa-fw fa-twitter -->
                                            <div class="counter-wrap"><span
                                                        class="counter">{% if project.settings.short_numbers == 'on' %}5.7k{% else %}5731{% endif %}</span>
                                                <!-- /.counter --></div>
                                            <!-- /.counter-wrap -->
                                        </a>
                                        <!-- /.sharer-flat sharer-flat-3 twitter -->
                                    </th>
                                </tr>
                                </tbody>
                            </table>
                            <!-- /.form-table form -->

                            <table class="form-table form">
                                <tbody>
                                {#<tr>#}
                                {#<th scope="row">#}
                                {#Intro Animation#}
                                {#</th>#}
                                {#<td>#}
                                {#<select name="" id="">#}
                                {#<option value="">Fade In</option>#}
                                {#</select>#}
                                {#<!-- /# -->#}
                                {#</td>#}
                                {#</tr>#}
                                {#<tr>#}
                                {#<th scope="row">#}
                                {#Into Animation#}
                                {#</th>#}
                                {#<td>#}
                                {#<input type="checkbox" name="" id=""/>#}
                                {#<!-- /# -->#}
                                {#</td>#}
                                {#</tr>#}

                                {#<tr>#}
                                {#<th scope="row">#}
                                {#Minimum Count Display#}
                                {#</th>#}
                                {#<td>#}
                                {#<input class="regular-text" type="text" name="" id=""/>#}
                                {#<!-- /#.regular-text -->#}
                                {#</td>#}
                                {#</tr>#}

                                <tr>
                                    <th scope="row">
                                        <label for="bd-spacing">
                                            {{ environment.translate('Add button spacing') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="checkbox"
                                               name="settings[spacing]"
                                               {% if project.settings.spacing == 'on' %}checked="checked" {% endif %}
                                               id="bd-spacing"/>
                                        <!-- /#bd-spacing -->
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="bd-display-total-shares">
                                            {{ environment.translate('Display counters') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="checkbox"
                                               name="settings[display_total_shares]"
                                               id="bd-display-total-shares"
                                               {% if project.settings.display_total_shares == 'on' %}checked="checked"{% endif %}/>
                                    </td>
                                </tr>

                                <tr>
                                    <th scope="row">
                                        <label for="bd-display-plugin-shares">
                                            {{ environment.translate('Plugin total shares') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="radio"
                                               name="settings[shares]"
                                               value="total"
                                               {% if project.settings.display_total_shares is not defined %}disabled="disabled"{% endif %}
                                               {% if project.settings.shares == 'total' %}checked="checked"{% endif %}
                                               id="bd-display-plugin-shares"/>
                                    </td>
                                </tr>

                                <tr>
                                    <th scope="row">
                                        <label for="bd-display-project-shares">
                                            {{ environment.translate('Project total shares') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="radio"
                                               name="settings[shares]"
                                               value="project"
                                               {% if project.settings.display_total_shares is not defined %}disabled="disabled"{% endif %}
                                               {% if project.settings.shares | default('project') == 'project' %}checked="checked"{% endif %}
                                               id="bd-display-project-shares"/>
                                    </td>
                                </tr>

                                <tr>
                                    <th scope="row">
                                        <label for="bd-display-post-shares">
                                            {{ environment.translate('Current page total shares') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="radio"
                                               name="settings[shares]"
                                               value="post"
                                               {% if project.settings.display_total_shares is not defined %}disabled="disabled"{% endif %}
                                                {% if project.settings.shares | default('project') == 'post' %}checked="checked"{% endif %}
                                               id="bd-display-post-shares"/>
                                    </td>
                                </tr>

                                <tr>
                                    <th scope="row">
                                        <label for="bd-use-short-numbers">
                                            {{ environment.translate('Use short numbers') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="checkbox"
                                               name="settings[short_numbers]"
                                               id="bd-use-short-numbers"
                                               {% if project.settings.display_total_shares is not defined %}disabled="disabled"{% endif %}
                                               {% if project.settings.short_numbers == 'on' %}checked="checked"{% endif %}/>
                                        <!-- /#bd-use-short-numbers -->
                                    </td>
                                </tr>

                                {#<tr>#}
                                {#<th scope="row">#}
                                {#Display Total Shares#}
                                {#</th>#}
                                {#<td>#}
                                {#<select name="" id="">#}
                                {#<option value="">Light</option>#}
                                {#</select>#}
                                {#<!-- /# -->#}
                                {#</td>#}
                                {#</tr>#}

                                {#<tr>#}
                                {#<th scope="row">#}
                                {#Add Icon Spacing#}
                                {#</th>#}
                                {#<td>#}
                                {#<input type="checkbox" name="" id=""/>#}
                                {#<!-- /# -->#}
                                {#</td>#}
                                {#</tr>#}

                                </tbody>
                            </table>

                            <h3>{{ environment.translate('Animation') }}</h3>
                            <div style="text-align: center" class="supsystic-social-sharing">
                                <a data-animation="{{ project.settings.animation | default('no-animation') }}" class="sharer-flat sharer-{{ project.settings.design | default('flat-1') }} twitter animated {{ project.settings.animation | default('no-animation') }} infinite animation-preview" href="javascript:void(0);">
                                    <i class="fa fa-fw fa-twitter"></i>
                                    <!-- /.fa fa-fw fa-twitter -->
                                    <div class="counter-wrap">
                                        <span class="counter">preview</span>
                                        <!-- /.counter -->
                                    </div>
                                    <!-- /.counter-wrap -->
                                </a>
                                <!-- /.sharer-flat sharer-flat-1 -->
                            </div>
                            <select name="settings[animation]" id="animation" style="width: 100%; margin-top: 15px;">
                                <option value="no-animation" {% if project.settings.animation == 'no-animation' %}selected="selected"{% endif %}>none</option>
                                <option value="pulse" {% if project.settings.animation == 'pulse' %}selected="selected"{% endif %}>pulse</option>
                                <option value="rubberBand" {% if project.settings.animation == 'rubberBand' %}selected="selected"{% endif %}>rubberBand</option>
                                <option value="shake" {% if project.settings.animation == 'shake' %}selected="selected"{% endif %}>shake</option>
                                <option value="swing" {% if project.settings.animation == 'swing' %}selected="selected"{% endif %}>swing</option>
                                <option value="tada" {% if project.settings.animation == 'tada' %}selected="selected"{% endif %}>tada</option>
                                <option value="wobble" {% if project.settings.animation == 'wobble' %}selected="selected"{% endif %}>wobble</option>
                            </select>
                        </div>
                        <!-- /.scroll -->


                        <div class="scroll">
                            <h2>Where to show</h2>
                            <ul class="where-to-show">
                                <li>
                                    <label for="wts-sidebar" data-toggle="tooltip" title="{{ environment.translate('Adds buttons to the selected side of the page.') }}">
                                        <input type="radio"
                                               name="settings[where_to_show]"
                                               value="sidebar"
                                               id="wts-sidebar" {% if project.settings.where_to_show == 'sidebar' %}checked="checked"{% endif %}/>
                                        {{ environment.translate('Sidebar') }}
                                    </label>
                                    <ul class="wts-extra" {% if project.settings.where_to_show != 'sidebar' %}style="display: none;"{% endif %}>
                                        <li>
                                            <label for="wts-sidebar-top">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="top"
                                                       id="wts-sidebar-top" {% if project.settings.where_to_show_extra == 'top' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Top') }}
                                            </label>
                                        </li>
                                        <li>
                                            <label for="wts-sidebar-bottom">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="bottom"
                                                       id="wts-sidebar-bottom" {% if project.settings.where_to_show_extra == 'bottom' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Bottom') }}
                                            </label>
                                        </li>
                                        <li>
                                            <label for="wts-sidebar-left">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="left"
                                                       id="wts-sidebar-left" {% if project.settings.where_to_show_extra == 'left' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Left') }}
                                            </label>
                                        </li>
                                        <li>
                                            <label for="wts-sidebar-right">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="right"
                                                       id="wts-sidebar-right" {% if project.settings.where_to_show_extra == 'right' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Right') }}
                                            </label>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label for="wts-content" data-toggle="tooltip" title="{{ environment.translate('Buttons will appear at the post or page content.') }}">
                                        <input type="radio"
                                               name="settings[where_to_show]"
                                               value="content"
                                               id="wts-content" {% if project.settings.where_to_show == 'content' %}checked="checked"{% endif %}/>
                                        {{ environment.translate('Content') }}
                                    </label>
                                    <ul class="wts-extra" {% if project.settings.where_to_show != 'content' %}style="display: none;"{% endif %}>
                                        <li>
                                            <label for="wts-content-above">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="above"
                                                       id="wts-content-above" {% if project.settings.where_to_show_extra == 'above' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Above Content') }}
                                            </label>
                                        </li>
                                        <li>
                                            <label for="wts-content-below">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="below"
                                                       id="wts-content-below" {% if project.settings.where_to_show_extra == 'below' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Below Content') }}
                                            </label>
                                        </li>
                                        <li>
                                            <label for="wts-content-abovebelow">
                                                <input type="radio"
                                                       name="settings[where_to_show_extra]"
                                                       value="above_below"
                                                       id="wts-content-abovebelow" {% if project.settings.where_to_show_extra == 'above_below' %}checked="checked"{% endif %}/>
                                                {{ environment.translate('Above + Below Content') }}
                                            </label>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label for="wts-popup" data-toggle="tooltip" title="{{ environment.translate('Popup window with buttons using our awesome Popup plugin.') }}">
                                        <input type="radio"
                                               name="settings[where_to_show]"
                                               value="popup"
                                               {% if popup_installed == false %}disabled="disabled"{% endif %}
                                               {% if project.settings.where_to_show == 'popup' %}checked="checked"{% endif %}
                                               id="wts-popup"/>
                                        <!-- /#wts-popup -->
                                        {{ environment.translate('Popup') }}
                                        {% if popup_installed == false %}
                                            <small>({{ environment.translate('You need to install <a href="%s" target="_blank">Popup by Supsystic</a> to use this feature.') | format('http://supsystic.com/plugins/popup-plugin/') | raw }})</small>
                                        {% endif %}
                                    </label>
                                </li>
                                <li>
                                    <label for="wts-widget" data-toggle="tooltip" title="{{ environment.translate('Creates a widget of the current project at Appearance > Widgets and allows you to use project at theme\'s widgets areas.') }}">
                                        <input type="radio"
                                               name="settings[where_to_show]"
                                               value="widget"
                                               {% if project.settings.where_to_show == 'widget' %}checked="checked"{% endif %}
                                               id="wts-widget"/>
                                        <!-- /#wts-widget -->
                                        {{ environment.translate('Widget') }}
                                    </label>
                                </li>
                                <li>
                                    <label for="wts-code" data-toggle="tooltip" title="{{ environment.translate('Allows you to insert project shortcode and show buttons where you want.') }}">
                                        <input type="radio"
                                               name="settings[where_to_show]"
                                               value="code" id="wts-code" {% if project.settings.where_to_show == 'code' %}checked="checked"{% endif %}/>
                                        {{ environment.translate('Shortcode or PHP code') }}
                                    </label>
                                    <div id="wts-shortcode" style="margin-top: 10px; {% if project.settings.where_to_show == 'code' %}display: block; {% else %}display: none;{% endif %}">
                                        <code>[supsystic-social-sharing id="{{ project.id }}"]</code>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- /.scroll -->

                        <div class="scroll">
                            <h2>When show</h2>

                            <h3>Show at next pages</h3>
                            <table class="form-table form">
                                <tbody>
                                <tr>
                                    <th scope="row">
                                        <label for="ws-everywhere">{{ environment.translate('Show everywhere') }}</label>
                                    </th>
                                    <td>
                                        <input type="checkbox"
                                               name="settings[show_at]"
                                               value="everywhere"
                                               id="ws-everywhere" {% if project.settings.show_at == 'everywhere' %}checked="checked"{% endif %}/>
                                        <!-- /#ws-everywhere -->
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="ws-posts">
                                            {{ environment.translate('Show on next posts / pages') }}
                                        </label>
                                    </th>
                                    <td>
                                        <select class="chosen"
                                                name="settings[show_on_posts][]"
                                                multiple="multiple"
                                                id="ws-posts">
                                            <optgroup label="{{ environment.translate('Posts') }}">
                                                <option value="-1" {% if '-1' in project.settings.show_on_posts %}selected="selected"{% endif %}>{{ environment.translate('All posts') }}</option>
                                                {% for post in posts %}
                                                    <option value="{{ post.ID }}" {% if post.ID in project.settings.show_on_posts %}selected="selected"{% endif %}>{{ post.post_title }}</option>
                                                {% endfor %}
                                            </optgroup>
                                            <optgroup label="{{ environment.translate('Pages') }}">
                                                <option value="-2" {% if '-2' in project.settings.show_on_posts %}selected="selected"{% endif %}>{{ environment.translate('All pages') }}</option>
                                                {% for page in pages %}
                                                    <option value="{{ page.ID }}" {% if page.ID in project.settings.show_on_posts %}selected="selected"{% endif %}>{{ page.post_title }}</option>
                                                {% endfor %}
                                            </optgroup>
                                        </select>
                                        <!-- /#ws-posts.chosen -->
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="ws-hide-mobile">
                                            {{ environment.translate('Hide on mobile devices') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="checkbox"
                                               name="settings[hide_on_mobile]"
                                               id="ws-hide-mobile" {% if project.settings.hide_on_mobile == 'on' %}checked="checked"{% endif %}/>
                                        <!-- /#ws-hide-mobile -->
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <!-- /.form-table form -->

                            <h3>When to show</h3>
                            <table class="form-table form">
                                <tbody>
                                <tr>
                                    <th scope="row">
                                        <label for="ws-page-load">
                                            {{ environment.translate('When page load') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="radio"
                                               name="settings[when_show]"
                                               value="load" id="ws-page-load" {% if project.settings.when_show == 'load' %}checked="checked"{% endif %}/>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">
                                        <label for="ws-page-click">
                                            {{ environment.translate('User click on page') }}
                                        </label>
                                    </th>
                                    <td>
                                        <input type="radio"
                                               name="settings[when_show]"
                                               value="click"
                                               id="ws-page-click" {% if project.settings.when_show == 'click' %}checked="checked"{% endif %}/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <!-- /.form-table form -->
                        </div>

                    </form>

                    <!-- /.scroll -->
                    <div class="clear"></div>
                    <!-- /.clear -->
                </div>
                <!-- /.scrollable-inner -->
            </div>
            <!-- /.scrollable-content -->
        {% endblock inner_content %}
        <div id="networks-dialog"
             title="{{ environment.translate('Select network') }}"
             style="display: none">
            {% for network in networks %}
                <div>
                    <label for="network{{ network.id }}-checkbox">
                        <input type="checkbox" name="networks"
                               value="{{ network|json_encode }}"
                               id="network{{ network.id }}-checkbox" {% if network | json_encode in project.networks | json_encode %}checked="checked"{% endif %}/>
                        <!-- /#network-{{ network.id }} -->
                        <span>{{ network.name }}</span>
                    </label>
                </div>
            {% endfor %}
        </div>
        <!-- /#networks-dialog -->
    </div>
    <!-- /.supsystic-item -->

{% endblock %}